@model backend.Models.Usuario
@{
    ViewBag.Title = "Editar Usuario";
    var cursos = (List<backend.Models.Curso>)ViewData["cursos"];
    var cursoId = 0;
    if (!Model.CursoId.Equals(""))
    {
        cursoId = int.Parse(Model.CursoId);
    }
}

<div class="row">
    <div class="col-md-6">
        <h1>Editar Usuario</h1>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <form action="/Usuario/Editar/22" method="post" class="jValidator">
            @if (@TempData["alertInfo"] != null)
            {
                <div class="alert alert-info" role="alert">
                    @TempData["alertInfo"]
                </div>
            }
            @if (@TempData["alertSucesso"] != null)
            {
                <div class="alert alert-success" role="alert">
                    @TempData["alertSucesso"]
                </div>
            }
            @if (@TempData["alertErro"] != null)
            {
                <div class="alert alert-danger" role="alert">
                    @TempData["alertErro"]
                </div>
            }
            <div class="form-floating mb-3">
                <input type="text" name="nome" class="form-control" id="floatingInput" placeholder="Nome" value="@Model.Nome" data-rules="required|min:2">
                <label for="floatingInput">Nome *</label>
            </div>
            <div class="form-floating mb-3">
                <input type="email" name="email" class="form-control" id="floatingInput" placeholder="E-mail" value="@Model.Email" data-rules="required|email">
                <label for="floatingInput">E-mail *</label>
            </div>
            <div class="form-floating mb-3">
                <input type="password" name="senha" class="form-control" id="floatingInput" placeholder="Senha" value="@Model.Senha" data-rules="required|min:2|max:20">
                <label for="floatingInput">Senha *</label>
            </div>
            <div class="form-floating mb-3">
                <select name="curso" class="form-select" id="floatingSelectGrid" aria-label="Curso" data-rules="pick">
                    <option value="">Selecione um curso</option>
                    @foreach (var curso in cursos)
                    {
                        <option value="@Html.DisplayFor(id => curso.Id)" @(cursoId == curso.Id ? "selected" : "")>@Html.DisplayFor(nome => curso.Nome)</option>
                    }
                </select>
                <label for="floatingSelectGrid">Curso *</label>
            </div>
            <div class="form-floating mb-3">
                <input type="text" name="turma" class="form-control" id="floatingInput" placeholder="Turma" value="@Model.Turma" data-rules="required|min:2|max:15">
                <label for="floatingInput">Turma *</label>
            </div>
            <div class="form-floating mb-3">
                <input type="number" name="ano" class="form-control" id="floatingInput" placeholder="Ano" value="@Model.Ano" data-rules="required|min:4|max:4">
                <label for="floatingInput">Ano *</label>
            </div>
            @if (Model.Tipo == 1)
            {
                <div class="form-floating mb-3">
                    <select name="tipo" class="form-select" id="floatingSelectGrid" aria-label="Tipo de Usuário">
                        <option value="0" @(Model.Tipo == 0 ? "selected" : "")>Aluno</option>
                        <option value="1" @(Model.Tipo == 1 ? "selected" : "")>Administrador</option>
                    </select>
                    <label for="floatingSelectGrid">Tipo de Usuário</label>
                </div>
            }
            <input type="hidden" name="id" value="@Model.Id" />
            <button type="submit" class="btn btn-success">Editar</button>
        </form>
    </div>
</div>
<script src="~/Scripts/validator.js"></script>